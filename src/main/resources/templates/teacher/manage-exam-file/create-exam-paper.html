<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/plugins/css/kaiadmin.min.css}">
    <link rel="stylesheet" th:href="@{/webjars/font-awesome/css/all.min.css}">
    <link rel="stylesheet" th:href="@{/css/global.css}">
    <link rel="stylesheet" th:href="@{/webjars/toastify-js/src/toastify.css}">
    <link rel="stylesheet" th:href="@{/css/custom-toggle-theme/demo.css}">
    <link rel="stylesheet" th:href="@{/css/common/tag.css}"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jodit/4.2.27/es2015/jodit.fat.min.css"/>
    <link rel="stylesheet" th:href="@{/css/head-subject/create-exam-paper/create-exam-paper.css}"/>
    <link rel="icon" th:href="@{/assets/image/favicon.ico}" type="image/x-icon">
    <title>Giảng viên - Tạo đề thi</title>
</head>
<body>
<div class="wrapper">
    <div th:insert="~{fragment/sidebar/sidebar-head-subject :: sidebar-head-subject}"></div>
    <div class="main-panel">
        <div class="main-header">
            <div th:insert="~{fragment/header/common-header :: common-header}"></div>
        </div>
        <div class="container">
            <div class="bg-white p-4 m-4 shadow rounded min-vh-100">
                <div class="p-4">
                    <h2>Tải đề thi</h2>
                </div>
                <!-- Infomation  -->
                <div class="shadow p-4 mb-4 bg-white rounded">
                    <h3 class="m-portlet__head-text">
                        <i class="fas fa-info-circle"></i> Thông tin môn học
                    </h3>
                    <div>
                        <div class="row">
                            <div class="col form-group">
                                <label for="subjectCode">Mã môn</label>
                                <span id="subjectCode" name="subjectCode"
                                      class="form-control text-black border border-secondary text-truncate"></span>
                            </div>
                            <div class="col form-group">
                                <label for="subjectName">Tên môn</label>
                                <span id="subjectName" name="subjectName"
                                      class="form-control text-black border border-secondary text-truncate"></span>
                            </div>
                            <div class="col form-group">
                                <label for="subjectDepartment">Bộ môn</label>
                                <span id="subjectDepartment" name="subjectDepartment"
                                      class="form-control text-black border border-secondary text-truncate"></span>
                            </div>
                            <div class="col form-group">
                                <label for="subjectType">Loại môn</label>
                                <span id="subjectType" name="subjectType"
                                      class="form-control text-black border border-secondary text-truncate"></span>
                            </div>
                            <div class="col form-group">
                                <label for="subjectUploaded">Đã upload</label>
                                <span id="subjectUploaded" name="subjectUploaded"
                                      class="form-control text-black border border-secondary text-truncate"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="p-4">
                    <div class="bg-white shadow rounded min-vh-100">
                        <div class="d-flex justify-content-between align-items-center p-4">
                            <h2 class="mb-0">Tạo đề thi</h2>
                            <button onclick="handleOpenChooseFile()" class="btn btn-secondary">
                                <i class="fa-solid fa-file-import fs-5"></i>
                                Import Nội dung
                            </button>
                            <input type="file" id="import-file" accept=".pdf, .docx" hidden/>
                        </div>
                        <div class="shadow px-4 mb-4 bg-white rounded min-vh-100">
                            <textarea id="tiny-editor"></textarea>
                            <div class="d-flex justify-content-between align-items-center py-4">
                                <div>
                                    <button class="btn btn-danger" id="export-pdf">
                                        <i class="fa-solid fa-file-pdf fs-5"></i>
                                        Export PDF
                                    </button>
                                    <button class="btn btn-primary" id="export-docx">
                                        <i class="fa-solid fa-file-word fs-5"></i>
                                        Export DOCX
                                    </button>
                                </div>
                                <button onclick="handleSaveExamPaperConfirm()" class="btn btn-black">
                                    <i class="fa-solid fa-file-arrow-down fs-5"></i>
                                    Lưu đề thi
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Detail ExamPaper -->
    <div class="modal modal-xl fade" id="saveExamPaperModal" tabindex="-1" aria-labelledby="saveExamPaperModalLabel"
         aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="examPaperTitle">Lưu đề thi</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">
                            <span class="text-danger"> * </span> Loại đề </label>
                        <select class="form-select" id="exam-paper-type" required>
                            <option value="">-- Chọn loại đề --</option>
                            <option value="MOCK_EXAM_PAPER">Đề thi thử</option>
                            <option value="OFFICIAL_EXAM_PAPER">Đề thi thật</option>
                        </select>
                        <div class="text-danger" id="examPaperTypeError"></div>
                    </div>
                </div>
                <div class="modal-footer" id="modal-footer">
                    <div class="text-center d-flex justify-content-end gap-3">
                        <button id="save-exam_paper" type="button" class="btn btn-black">
                            <i class="fa-solid fa-file-arrow-down fs-5"></i>
                            Lưu đề thi
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal Detail ExamPaper -->

    <div th:insert="~{fragment/custom-toggle-theme/toggle-theme :: toggle-theme}"></div>
</div>

<script th:src="@{/webjars/jquery/jquery.min.js}"></script>
<script th:src="@{/webjars/popper.js/umd/popper.min.js}"></script>
<script th:src="@{/plugins/js/jquery-scrollbar/jquery.scrollbar.min.js}"></script>
<script th:src="@{/plugins/js/jquery.sparkline/jquery.sparkline.min.js}"></script>
<script th:src="@{/plugins/js/kaiadmin/kaiadmin.min.js}"></script>
<script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
<script th:src="@{/js/sidebar-track.js}"></script>
<script th:src="@{/webjars/js-cookie/js.cookie.js}"></script>
<script th:src="@{/js/constants.js}"></script>
<script th:src="@{/webjars/toastify-js/src/toastify.js}"></script>
<script th:src="@{/js/utils.js}"></script>
<script th:src="@{/js/toast-custom.js}"></script>
<script th:src="@{/plugins/js/sweetalert/sweetalert.min.js}"></script>
<script th:src="@{/js/custom-toggle-theme/setting-demo.js}"></script>
<script th:src="@{/js/user-info-handler.js}"></script>
<script th:src="@{/js/loading.js}"></script>
<script th:src="@{/webjars/html2pdf.js/dist/html2pdf.bundle.min.js}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.4.2/mammoth.browser.min.js"></script>
<script src="https://cdn.tiny.cloud/1/4z7747j9doo7z6nwxidcf0124849k06u3wu1l91rt1finv0l/tinymce/7/tinymce.min.js"
        referrerpolicy="origin"></script>
<script th:src="@{/js/teacher/manage-exam-file/create-exam-paper.js}"></script>
<script th:src="@{/js/teacher/manage-exam-file/save-exam-paper.js}"></script>

</body>
</html>